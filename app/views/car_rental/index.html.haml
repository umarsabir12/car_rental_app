%div.min-h-screen.bg-white
  / Hero Section
  %section.relative.text-white.pt-16{style: 'height: 60vh; background: linear-gradient(135deg, #3a6363 0%, #2d4f4f 100%)'}
    .absolute.inset-0.opacity-30
      %img{class: "w-full h-full object-cover", src: asset_path('hero.jpg'), alt: 'Hero background'}
  
    .max-w-container.mx-auto.px-4.sm:px-6.lg:px-8.relative.z-10
      .grid.grid-cols-1.lg:grid-cols-2.gap-8.items-center.pt-40.lg:pt-40.pb-14.lg:pb-20.h-full
        / Car Image - Left Side
        .order-1.lg:order-1.relative
          %img{class: "w-full h-80 sm:h-96 lg:h-[16rem] object-contain", src: asset_path('hero_cars/car2.png'), alt: 'BMW sedan on road'}
      
        / Text Content - Right Side  
        .order-2.lg:order-2.relative
          %h1.text-4xl.md:text-5xl.lg:text-6xl.font-extrabold.leading-tight.mb-4
            = (@headline || 'Rent Your Perfect Car')
          %p.text-base.md:text-lg.mb-6.max-w-xl{style: 'color: rgba(255,255,255,0.9)'}
            Book your car with 
            %span.font-bold.text-white.text-3xl Zero Deposit
            and hit the road today! No hidden charges!
          .flex.flex-wrap.items-center.gap-3
            = link_to (@cars_path || '#'), class: 'inline-flex items-center rounded-full bg-white font-semibold px-6 py-3 shadow hover:shadow-md transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white', style: 'color: #3a6363' do
              %i{class: 'fas fa-car-side mr-2'}
              = (@cta_label || 'Rent a Car')

  / Search bar
  %section.-mt-8.relative.z-10
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      %div{class: 'bg-white/95 backdrop-blur rounded-2xl shadow-xl border border-gray-100 p-4 sm:p-6'}
        = form_with url: (@cars_path || '#'), method: :get, local: true, role: 'search', 'aria-label' => 'Search vehicles' do |f|
          .grid.grid-cols-1.md:grid-cols-4.gap-3
            .relative
              %label.sr-only{for: 'location'} Pick-up location
              %i{class: 'fa fa-map-pin absolute left-3 top-1/2 -translate-y-1/2 text-gray-400'}
              = f.select :location, options_for_select([['Select location', '']] + ((@locations || []).map { |loc| [loc[:name], loc[:id]] })), {}, {id: 'location', class: 'w-full pl-9 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:border-teal-600', style: 'focus:ring-color: #3a6363'}
            .relative
              %label.sr-only{for: 'pickup'} Pick-up date
              %i{class: 'fa fa-calendar-alt absolute left-3 top-1/2 -translate-y-1/2 text-gray-400'}
              = f.date_field :pickup, id: 'pickup', value: @pick_date, class: 'w-full pl-9 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:border-teal-600'
            .relative
              %label.sr-only{for: 'dropoff'} Drop-off date
              %i{class: 'fa fa-calendar-check absolute left-3 top-1/2 -translate-y-1/2 text-gray-400'}
              = f.date_field :dropoff, id: 'dropoff', value: @drop_date, class: 'w-full pl-9 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:border-teal-600'
            .flex
              = f.submit 'Find a Car', class: 'w-full inline-flex justify-center items-center rounded-lg text-white font-semibold py-3 h-12 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2', style: 'background-color: #3a6363; focus:ring-color: #3a6363'

  / Promo Slider Banner (auto-rotates every 3s)
  %section.py-6.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .relative.rounded-2xl.overflow-hidden.border.border-gray-100.shadow-sm
        #promoSlider.relative.h-32.sm:h-40.md:h-48.lg:h-56{style: 'height: 20rem;'}
          %img.absolute.inset-0.w-full.h-full.object-cover.transition-opacity.duration-700.opacity-100{ src: image_path('tabby_banner.jpg'), alt: 'Tabby banner', 'data-index' => '0' }
          %img.absolute.inset-0.w-full.h-full.object-cover.transition-opacity.duration-700.opacity-0{ src: image_path('no_deposit_banner.jpg'), alt: 'No deposit banner', 'data-index' => '1' }


  / Select Class Section
  %section.py-14.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 Choose the perfect car for your needs
      .grid.grid-cols-2.md:grid-cols-3.gap-6
        - (@car_classes || []).each do |car_class|
          = link_to cars_path(category: (car_class[:slug] || car_class[:name])), class: 'group relative rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition cursor-pointer hover:border-teal-300 overflow-hidden h-48' do
            .absolute.inset-0
              %img.w-full.h-full.object-cover{src: car_class[:image], alt: car_class[:name]}
            .absolute.inset-0.bg-black.bg-opacity-30.group-hover:bg-opacity-40.transition
            .absolute.inset-0.flex.items-center.justify-center
              %h3.text-xl.font-bold.text-white.text-center.px-4= car_class[:name]

  / Car Brands Banner
  %section#brands.py-14.bg-white.border-t.border-b.border-gray-100
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .flex.flex-wrap.justify-center.items-center.gap-8.md:gap-12
        - (@brand_logos || []).each do |brand|
          = link_to cars_path(brand: (brand[:slug] || brand[:name].to_s.downcase)), title: brand[:name], class: 'flex items-center justify-center group hover:scale-105 transition-transform duration-200' do
            %img{class: 'h-12 w-auto group-hover:opacity-80 transition-opacity duration-200', src: asset_path(brand[:image]), alt: "#{brand[:name]} logo", onerror: "this.onerror=null;this.src='/icon.png';"}

  / Featured vehicles
  %section.py-14.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 Discover our most popular rental cars
      .grid.grid-cols-1.md:grid-cols-3.gap-6
        - (@featured_cars || []).each do |car|
          %article.group.bg-white.rounded-2xl.shadow-md.border.border-gray-100.overflow-hidden.hover:shadow-lg.transition
            %img.w-full.h-48.object-cover{src: car[:image_url], alt: car[:name]}
            .p-5
              .flex.items-start.justify-between.mb-2
                %h3.text-lg.font-semibold.text-gray-900= car[:name]
                %span{class: 'inline-flex items-center rounded-full text-xs font-semibold px-2 py-1 text-white', style: 'background-color: #3a6363'}= car[:car_type]
              %p.text-sm.text-gray-600.line-clamp-2.mb-4= (car[:features] || []).join(' • ')
              .flex.items-center.justify-between
                %div
                  %span.text-2xl.font-extrabold.text-gray-900= number_to_currency(car[:daily_price], precision: 0)
                  %span.text-gray-500 /day
                = link_to 'Book Now', (car_path(car) || '#'), class: 'inline-flex items-center rounded-lg text-white font-semibold px-4 py-2 hover:opacity-90 focus:outline-none focus:ring-2', style: 'background-color: #3a6363; focus:ring-color: #3a6363'

  / CTA banner - Updated to match required design
  %section.relative.text-white{class: 'bg-cover-center bg-fade-bottom', style: "background-image: linear-gradient(rgba(44,95,95,0.6), rgba(58,99,99,0.6)), url('#{image_path('hero.jpg')}')"}
    .absolute.inset-0.pointer-events-none{style: 'background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0.6) 100%)'}

    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .grid.grid-cols-1.lg:grid-cols-2.gap-12.items-center.py-16
        / Text content - now on the left
        .order-1.lg:order-1
          %h1.text-4xl.lg:text-5xl.font-bold.mb-6.leading-tight= (@cta_title || 'Save Time & Money with Top Car Rent Services')
          %p.text-lg.mb-8.leading-relaxed{style: 'color: rgba(255,255,255,1)'}= (@cta_copy || 'Experience premium car rental service with the best prices and excellent customer support.')
          = link_to ((@cta_action && @cta_action[:href]) || @cars_path || '#'), class: 'inline-flex items-center rounded-lg bg-white font-semibold px-8 py-4 text-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white transition-colors duration-300', style: 'color: #3a6363' do
            %i{class: 'fa fa-car mr-3'}
            = ((@cta_action && @cta_action[:label]) || 'Start Browsing Cars')
      
        / Image content - now on the right
        .order-2.lg:order-2.self-end
          %div.relative.flex.items-end.h-full
            %img{class: 'w-full h-64 sm:h-80 lg:h-[32rem] xl:h-[36rem] object-contain object-bottom drop-shadow-2xl', src: image_path('car_fleet.png'), alt: 'Luxury cars lineup'}

  / Stats Section - Design 1 with proper icon circles
  %section.py-20.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .grid.grid-cols-1.md:grid-cols-3.gap-16.text-center
        - default_stats = [{value: '990 +', label: 'BOOKINGS', icon: 'fa-calendar-check'}, {value: '230 +', label: 'CARS', icon: 'fa-car'}, {value: '660 +', label: 'HAPPY CUSTOMER', icon: 'fa-thumbs-up'}]
        - (@stats || default_stats).each do |s|
          .flex.flex-col.items-center
            .relative.inline-block
              / Main circle with stats
              %div{class: 'w-48 h-48 lg:w-56 lg:h-56 rounded-full border-4 bg-white flex flex-col items-center justify-center shadow-lg', style: 'border-color: #2c5f5f'}
                .text-center.px-6
                  %div{class: 'text-4xl lg:text-5xl font-black mb-2', style: 'color: #2c5f5f'}= s[:value]
                  %div{class: 'text-sm font-semibold uppercase tracking-wider', style: 'color: #5a7a7a'}= s[:label]
            
              / Small icon circle positioned at top-right
              %div{class: 'absolute -top-4 -right-4 w-20 h-20 lg:w-24 lg:h-24 rounded-full bg-white flex items-center justify-center shadow-xl', style: 'border: 4px solid #2c5f5f'}
                %i{class: "fas #{s[:icon]} text-2xl lg:text-3xl", style: 'color: #2c5f5f'}

  / Required Document Section
  %section.py-16.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-3 Documents Required for Car Rental in the UAE
        %p.text-gray-600 Whether you are a resident or a tourist, a rent a car in Dubai is the most convenient method of visiting the UAE's major attractions. In order to not encounter any type of inconvenience while renting a car, it's necessary to prepare the necessary documents in advance.

      #document-requirements
      .grid.grid-cols-1.lg:grid-cols-2.gap-8
        / Card: UAE Residents
        .rounded-3xl.border.border-gray-200.bg-white.shadow-sm.overflow-hidden
          .bg-gray-100.py-4.text-center
            %h3.text-lg.font-semibold.text-gray-800 For UAE Residents
          .p-6
            .grid.grid-cols-1.md:grid-cols-2.gap-6.items-center
              %div.flex.items-end.justify-center
                %img{class: 'w-64 h-40 object-contain', src: asset_path('hero_cars/car3.png'), alt: 'UAE Resident documents'}
              %ul.space-y-4
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 UAE Driving License
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Emirates ID
                %li.flex.items-start.gap-3
                  %span.text-gray-700 (Residential Visa may be acceptable)

        / Card: Tourists visiting the UAE
        .rounded-3xl.border.border-gray-200.bg-white.shadow-sm.overflow-hidden
          .bg-gray-100.py-4.text-center
            %h3.text-lg.font-semibold.text-gray-800 For Tourists visiting the UAE
          .p-6
            .grid.grid-cols-1.md:grid-cols-2.gap-6.items-center
              %div.flex.items-end.justify-center
                %img{class: 'w-64 h-40 object-contain', src: asset_path('hero_cars/car4.png'), alt: 'Tourist documents'}
              %ul.space-y-4
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Passport
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Visit Visa
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Home Country Driving License
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 International Driving Permit (IDP)

  / Testimonials
  %section.py-16.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 What They're Talking About Wheels on Rent
      .grid.grid-cols-1.md:grid-cols-3.gap-6
        - (@testimonials || []).each do |t|
          %figure.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-6.flex.flex-col.justify-between.hover:shadow-md.transition
            %div
              %div{class: 'text-3xl mb-2', style: 'color: #3a6363'} "
              %blockquote.text-gray-700.text-sm.leading-relaxed= t[:quote]
            %figcaption.mt-4.flex.items-center.gap-3
              %div{class: 'w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold', style: 'background-color: #3a6363'}
                %span.text-sm= t[:author].to_s.first
              %div
                %div.text-sm.font-semibold.text-gray-900= t[:author]
                %div.text-xs.text-gray-500= t[:role]

  / Why You Should Use Section
  %section.py-14.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 Why You Should Use Wheels On Rent
        %p.text-gray-600 Experience the best car rental service
      .grid.grid-cols-1.md:grid-cols-3.gap-8
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: 'fas fa-handshake text-white text-2xl'}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Affordable Rates
          %p.text-gray-600 We make car rentals simple and accessible for everyone. Enjoy transparent, competitive pricing with no hidden charges — the best value for your money.
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: 'fas fa-car text-white text-2xl'}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Wide Range of Vehicles
          %p.text-gray-600 From budget-friendly cars to premium luxury models, SUVs, and vans, our diverse fleet is well-maintained to meet every travel need and occasion. 
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: 'fas fa-award text-white text-2xl'}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Easy Booking Process
          %p.text-gray-600 With our user-friendly platform, you can book your car in just a few clicks online — quickly and conveniently.

  / Vendor CTA Banner under Stats
  -# %section.py-12.bg-white
  -#   .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
  -#     .rounded-3xl.border.border-gray-200.bg-white.overflow-hidden
  -#       .grid.grid-cols-1.lg:grid-cols-2.items-center
  -#         / Left image
  -#         %div.relative.h-56.sm:h-64.lg:h-72
  -#           %img{class: 'absolute inset-0 w-full h-full object-cover fade-right', src: image_path('join_us_image.png'), alt: 'Work with us'}
  -#         / Right content
  -#         .p-8.lg:p-12
  -#           %h3.text-3xl.font-bold.text-gray-900.mb-3 Are you a car rental company?
  -#           %p.text-lg.text-gray-600.mb-6 Join Us – List Your Fleet, Get Confirmed Bookings, Double Your Profit!
  -#           .flex.items-center.gap-3
  -#             = link_to ((@list_cars_path) || '#'), class: 'inline-flex items-center rounded-xl border px-6 py-3 font-semibold transition hover:bg-gray-50', style: 'color: #3a6363; border-color: #3a6363' do
  -#               %span List Your Cars
  -#               %i{class: 'fas fa-arrow-right ml-3'}
  -#             = link_to companies_path, class: 'inline-flex items-center rounded-xl border px-6 py-3 font-semibold transition hover:bg-gray-50', style: 'color: #3a6363; border-color: #3a6363' do
  -#               %span Registered Companies
  -#               %i{class: 'fas fa-building ml-3'}

- content_for :footer do
  %footer.bg-gray-900.text-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8.py-12
      .grid.grid-cols-1.md:grid-cols-4.gap-8
        .space-y-4
          .flex.items-center
            %i{class: 'fas fa-car text-2xl', style: 'color: #3a6363'}
            %span.text-xl.font-extrabold.ml-2= (@company && @company[:name]) || 'WheelsOnRent'
          %p.text-gray-300= (@company && @company[:blurb]) || 'Your trusted partner for car rentals.'
        .space-y-4
          %h4.text-white.font-semibold Quick Links
          %ul.space-y-2
            - default_footer_links = [{label:'Browse Cars',href:'#'},{label:'List Your Car',href:'#'},{label:'About Us',href:'#'},{label:'Contact',href:'#'}]
            - (@footer_links || default_footer_links).each do |l|
              %li= link_to l[:label], l[:href], class: 'text-gray-300 hover:text-white transition'
        .space-y-4
          %h4.text-white.font-semibold Support
          %ul.space-y-2
            - default_support_links = [{label:'Help Center',href:'#'},{label:'Terms of Service',href:'#'},{label:'Privacy Policy',href:'#'},{label:'Insurance',href:'#'}]
            - (@support_links || default_support_links).each do |l|
              %li= link_to l[:label], l[:href], class: 'text-gray-300 hover:text-white transition'
        .space-y-4
          %h4.text-white.font-semibold Contact Info
          - default_contact = {phone: '1-800-WheelsOnRent', email: 'support@wheelsonrent.com', address: '123 Rental Street, City, State 12345'}
          - c = (@contact || default_contact)
          %div.text-gray-300
            %p= "📞 #{c[:phone]}"
            %p= "📧 #{c[:email]}"
            %p= "📍 #{c[:address]}"
      .border-t.border-gray-800.mt-8.pt-8.text-center.text-gray-400
        %p &copy; #{Time.current.year} WheelsOnRent. All rights reserved.

:javascript
  (function() {
    function initPromoSlider() {
      var container = document.getElementById('promoSlider');
      if (!container) return;
      var slides = Array.prototype.slice.call(container.querySelectorAll('img'));
      if (slides.length < 2) return;
      var active = 0;

      function show(index) {
        slides.forEach(function(img, i) {
          if (i === index) {
            img.classList.remove('opacity-0');
            img.classList.add('opacity-100');
          } else {
            img.classList.remove('opacity-100');
            img.classList.add('opacity-0');
          }
        });
      }

      // Clear any previous interval to avoid duplicates on Turbo renders
      if (window._promoSliderInterval) {
        clearInterval(window._promoSliderInterval);
        window._promoSliderInterval = null;
      }

      show(active);
      window._promoSliderInterval = setInterval(function() {
        active = (active + 1) % slides.length;
        show(active);
      }, 5000);
    }

    document.addEventListener('DOMContentLoaded', initPromoSlider);
    document.addEventListener('turbo:load', initPromoSlider);
    document.addEventListener('turbo:render', initPromoSlider);
    if (document.readyState !== 'loading') {
      setTimeout(initPromoSlider, 0);
    }
  })();