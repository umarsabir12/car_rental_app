%div.min-h-screen.bg-white
  / Hero Section
  %section.relative.text-white.pt-16{style: 'height: 100vh; background: linear-gradient(135deg, #3a6363 0%, #2d4f4f 100%)'}
    #heroImageSlider.absolute.inset-0
      %img.absolute.inset-0.w-full.h-full.object-cover.object-center.transition-opacity.duration-1000.opacity-100{src: asset_path('hero_cars/hero_1.jpg'), alt: 'Hero background 1', 'data-index' => '0'}
      %img.absolute.inset-0.w-full.h-full.object-cover.object-center.transition-opacity.duration-1000.opacity-0{src: asset_path('hero_cars/hero_2.jpg'), alt: 'Hero background 2', 'data-index' => '1'}
      %img.absolute.inset-0.w-full.h-full.object-cover.object-center.transition-opacity.duration-1000.opacity-0{src: asset_path('hero_cars/hero_3.jpg'), alt: 'Hero background 3', 'data-index' => '2'}
      %img.absolute.inset-0.w-full.h-full.object-cover.object-center.transition-opacity.duration-1000.opacity-0{src: asset_path('hero_cars/hero_4.jpg'), alt: 'Hero background 4', 'data-index' => '3'}
  
    .max-w-container.mx-auto.px-4.sm:px-6.lg:px-8.relative.z-10
      .grid.grid-cols-1.lg:grid-cols-2.gap-8.items-center.pt-40.lg:pt-40.pb-14.lg:pb-20.h-full
        / Car Image Slider - Left Side
        .order-1.lg:order-1.relative
      
        / Text Content - Right Side  
        .order-2.lg:order-2.relative
          %h1.text-4xl.md:text-5xl.font-extrabold.leading-tight.mb-4
            = (@headline || 'Rent a Car in Dubai ‚Äì Wheels on Rent')
          %p.text-base.md:text-lg.mb-6.max-w-7xl{style: 'color: rgba(255,255,255,0.9)'}
            Experience convenience, freedom, and comfort with
            %span.font-bold.text-white.text-3xl Wheels on Rent
            , Dubai‚Äôs trusted car rental service.
          .flex.flex-wrap.items-center.gap-3
            = link_to (@cars_path || '#'), class: 'inline-flex items-center rounded-full bg-white font-semibold px-6 py-3 shadow hover:shadow-md transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white', style: 'color: #3a6363' do
              %i{class: 'fas fa-car-side mr-2'}
              = (@cta_label || 'Rent a Car')

  / Filter/Search Bar
  = render 'car_rental/filters'

  .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
    %hr.border-t.border-gray-200.my-8

  %section.py-8.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8.text-center.text-dark
      We offer a comprehensive range of vehicles for all occasions across Dubai and the UAE. From daily commuters to luxury experiences, Wheels on Rent ensures safe, flexible, and hassle-free rentals. Whether you are visiting Dubai for tourism, business, or exploration, our platform allows you to rent a car in Dubai instantly, with options including zero deposit rentals, cars with or without a driver, and vehicles for all budgets. 

  / Promo Slider Banner (auto-rotates every 5s)
  %section.py-4.sm:py-6.md:py-8.bg-white
    .max-w-7xl.mx-auto.px-3.sm:px-4.lg:px-8
      .relative.rounded-lg.sm:rounded-xl.md:rounded-2xl.overflow-hidden.border.border-gray-100.shadow-sm.hover:shadow-md.transition-shadow
        #promoSlider.relative.w-full{class: 'h-24 sm:h-32 md:h-40 lg:h-56', style: 'min-height: 6rem;'}
          %img.absolute.inset-0.w-full.h-full.object-cover.transition-opacity.duration-700.opacity-100{ src: image_path('tabby_banner.jpg'), alt: 'Tabby banner', 'data-index' => '0' }
          %img.absolute.inset-0.w-full.h-full.object-cover.transition-opacity.duration-700.opacity-0{ src: image_path('no_deposit_banner.jpg'), alt: 'No deposit banner', 'data-index' => '1' }


  / Select Class Section
  %section.py-14.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 Choose the perfect car for your needs
      .grid.grid-cols-2.md:grid-cols-3.gap-6
        - (@car_classes || []).each do |car_class|
          = link_to cars_path(category: (car_class[:slug] || car_class[:name])), class: 'group relative rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition cursor-pointer hover:border-teal-300 overflow-hidden h-48' do
            .absolute.inset-0
              %img.w-full.h-full.object-cover{src: car_class[:image], alt: car_class[:name]}
            .absolute.inset-0.bg-black.bg-opacity-30.group-hover:bg-opacity-40.transition
            .absolute.inset-0.flex.items-center.justify-center
              %h3.text-xl.font-bold.text-white.text-center.px-4= car_class[:name]

  / Car Brands Banner
  = render 'car_rental/brand_logos'

  / Car Categories
  - (@categories_to_display).each do |category|
    %section.py-12{class: 'bg-white'}
      .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
        / Header with title and View Offers button
        .flex.items-center.justify-between.mb-4.flex-wrap.gap-4
          %div.flex-1
            %h2.text-2xl.md:text-3xl.font-bold.mb-2
              = link_to "#{category[:name]} for rent in Dubai", cars_path(category: category[:name]), class: "text-gray-900 no-underline"
            %p.text-sm.md:text-base.text-gray-600.max-w-4xl
              = category[:description]
          = link_to cars_path(category: category[:slug]), class: 'inline-flex items-center rounded-full font-semibold px-6 py-2.5 shadow-sm hover:shadow-md transition whitespace-nowrap text-sm md:text-base', style: 'background-color: #3a6363; color: white;' do
            View More
            %i.fas.fa-arrow-right.ml-2

        / Cars Carousel - Show 4 cards at a time
        .car-carousel.mt-8
          / Get cars for this category
          - category_cars = (@category_cars || []).select { |c| c[:category]&.include?(category[:slug]) }
          - category_cars = category_cars.presence || []
          
          - if category_cars.any?
            .relative{id: "carousel-#{category[:slug]}"}
              / Left Arrow (initially hidden)
              %button.absolute.left-0.transform.z-10.w-12.h-12.rounded-full.shadow-lg.transition-all.duration-300.hidden.carousel-nav-btn.carousel-prev{class: 'top-1/2 -translate-y-1/2 -translate-x-4 hover:scale-110', style: 'background-color: #3a6363', data: { category: category[:slug] }}
                %i.fas.fa-chevron-left.text-white.text-xl
              
              / Right Arrow (shown if more than 4 cars)
              - if category_cars.length > @max_cards
                %button.absolute.right-0.transform.z-10.w-12.h-12.rounded-full.shadow-lg.transition-all.duration-300.carousel-nav-btn.carousel-next{class: 'top-1/2 -translate-y-1/2 translate-x-4 hover:scale-110', style: 'background-color: #3a6363', data: { category: category[:slug] }}
                  %i.fas.fa-chevron-right.text-white.text-xl
              
              / Carousel Viewport - Only shows 4 cards
              .carousel-viewport.overflow-hidden.w-full
                / Carousel Container - Contains all cards
                .carousel-track.flex.transition-transform.duration-500.ease-in-out.py-1{data: { category: category[:slug], current: '0', total: category_cars.length }}
                  - category_cars.each_with_index do |car, index|
                    .carousel-item.flex-shrink-0.px-3
                      = link_to car_path(car), class: 'block bg-white rounded-2xl shadow-xl overflow-hidden relative transition transform hover:scale-105 hover:shadow-2xl' do
                        .bg-white.rounded-2xl.shadow-xl.overflow-hidden.flex.flex-col.justify-between.relative.transition.transform.hover:scale-105.hover:shadow-2xl
                          / Car Image with Uniform Size
                          .relative.h-48.bg-gray-100.overflow-hidden
                            = car_main_image(car, size: [400, 300])
                            .absolute.top-3.right-3.flex.flex-col.space-y-1
                              - status_classes = {'Available' => 'bg-green-500 text-white','Rented' => 'bg-red-500 text-white'}[car.status] || 'bg-teal-600 text-white'
                              %span.inline-block.rounded-full.text-xs.font-semibold.px-2.py-1{ class: status_classes }= car.status
              
                          .p-6.flex.flex-col.flex-1
                            %div.flex.items-center.justify-between.mb-2
                              %span.text-lg.font-bold.text-gray-900= car.brand
                              %span.text-sm.text-gray-500= car.year
                            %div.text-xl.font-semibold.text-gray-900.mb-2= car.model
                            %div.text-gray-700.mb-3
                              = car.color
                              - if car.category.present?
                                %span.text-gray-500.ml-2 ‚Ä¢
                                %span.text-gray-500= car.category.capitalize
                            %div.flex.items-center.justify-between
                              %span.text-2xl.font-bold{style: 'color: #3a6363'}= car.daily_price ? number_to_currency(car.daily_price) : 'N/A'
                              %span.text-sm.text-gray-500 /day
          - else
            .text-center.py-12
              %p.text-gray-500.text-lg No cars available in this category at the moment.
    / Divider line after each category (except the last one)
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      %hr.border-t.border-gray-200.my-8

  / Stats Section - Design 1 with proper icon circles
  %section.py-20.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .grid.grid-cols-1.md:grid-cols-3.gap-16.text-center
        - default_stats = [{value: '990 +', label: 'BOOKINGS', icon: 'fa-calendar-check'}, {value: '230 +', label: 'CARS', icon: 'fa-car'}, {value: '660 +', label: 'HAPPY CUSTOMER', icon: 'fa-thumbs-up'}]
        - (@stats || default_stats).each do |s|
          .flex.flex-col.items-center
            .relative.inline-block
              / Main circle with stats
              %div{class: 'w-48 h-48 lg:w-56 lg:h-56 rounded-full border-4 bg-white flex flex-col items-center justify-center shadow-lg', style: 'border-color: #2c5f5f'}
                .text-center.px-6
                  %div{class: 'text-4xl lg:text-5xl font-black mb-2', style: 'color: #2c5f5f'}= s[:value]
                  %div{class: 'text-sm font-semibold uppercase tracking-wider', style: 'color: #5a7a7a'}= s[:label]
            
              / Small icon circle positioned at top-right
              %div{class: 'absolute -top-4 -right-4 w-20 h-20 lg:w-24 lg:h-24 rounded-full bg-white flex items-center justify-center shadow-xl', style: 'border: 4px solid #2c5f5f'}
                %i{class: "fas #{s[:icon]} text-2xl lg:text-3xl", style: 'color: #2c5f5f'}

  / Requirements Section
  .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8.pb-8
    .bg-white.rounded-xl.shadow-lg.p-8
      %h2.text-2xl.font-bold.mb-6{style: 'color: #2d4f4f'} REQUIRED DOCUMENTS TO RENT A CAR
      .grid.grid-cols-1.lg:grid-cols-2.gap-8
        / Card: UAE Residents
        .rounded-3xl.border.border-gray-200.bg-white.shadow-sm.overflow-hidden
          .bg-gray-100.py-4.text-center
            %h3.text-lg.font-semibold.text-gray-800 For UAE Residents
          .p-6
            .grid.grid-cols-1.md:grid-cols-2.gap-6.items-center
              %div.flex.items-end.justify-center
                %img{class: 'w-64 h-40 object-contain', src: asset_path('hero_cars/car3.png'), alt: 'UAE Resident documents'}
              %ul.space-y-4
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 UAE Driving License
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Emirates ID
                %li.flex.items-start.gap-3
                  %span.text-gray-700 (Residential Visa may be acceptable)
        
        / Card: Tourists visiting the UAE
        .rounded-3xl.border.border-gray-200.bg-white.shadow-sm.overflow-hidden
          .bg-gray-100.py-4.text-center
            %h3.text-lg.font-semibold.text-gray-800 For Tourists visiting the UAE
          .p-6
            .grid.grid-cols-1.md:grid-cols-2.gap-6.items-center
              %div.flex.items-end.justify-center
                %img{class: 'w-64 h-40 object-contain', src: asset_path('hero_cars/car4.png'), alt: 'Tourist documents'}
              %ul.space-y-4
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Passport
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Visit Visa
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 Home Country Driving License
                %li.flex.items-start.gap-3
                  %span.inline-flex.items-center.justify-center.rounded-full.w-6.h-6{style: 'background-color: #e8f1f1; color: #3a6363'}
                    %i{class: 'fas fa-check text-sm'}
                  %span.text-gray-700 International Driving Permit (IDP)

  / Testimonials
  %section.py-16.bg-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 What They're Talking About Wheels on Rent
      .grid.grid-cols-1.md:grid-cols-3.gap-6
        - (@testimonials || []).each do |t|
          %figure.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-6.flex.flex-col.justify-between.hover:shadow-md.transition
            %div
              %div{class: 'text-3xl mb-2', style: 'color: #3a6363'} "
              %blockquote.text-gray-700.text-sm.leading-relaxed= t[:quote]
            %figcaption.mt-4.flex.items-center.gap-3
              %div{class: 'w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold', style: 'background-color: #3a6363'}
                %span.text-sm= t[:author].to_s.first
              %div
                %div.text-sm.font-semibold.text-gray-900= t[:author]
                %div.text-xs.text-gray-500= t[:role]

  / Why You Should Use Section
  %section.py-14.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .text-center.mb-10
        %h2.text-3xl.font-bold.text-gray-900.mb-2 Why Choose Wheels on Rent for Car Rental in Dubai
        %p.text-gray-600 Wheels on Rent is known for transparency, flexibility, and a wide fleet of vehicles. Customers choose us for reliable car rentals across Dubai and UAE, instant booking, flexible plans, and professional support. Every car is maintained to the highest safety standards, and our services cater to both residents and visitors.
      .grid.grid-cols-1.md:grid-cols-3.gap-8
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: "fas fa-dollar-sign text-white text-2xl"}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Zero Deposit Car Rental in Dubai 
          %p.text-gray-600 We provide zero deposit rental options for select vehicles, allowing you to rent without upfront payments. This makes our service ideal for tourists, business visitors, and locals who want affordable car rentals in Dubai without extra financial burden. 
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: 'fas fa-car text-white text-2xl'}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Wide Range of Cars for Every Need
          %p.text-gray-600 Our fleet includes economy cars, luxury sedans, sports cars, SUVs, and electric vehicles. You can rent cars for daily travel, family trips, corporate events, or special occasions. Our collection covers brands like Toyota, BMW, Mercedes, Nissan, Tesla, and Porsche.  
        .text-center.bg-white.rounded-2xl.shadow-sm.border.border-gray-100.p-8
          %div{class: 'rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4', style: 'background-color: #3a6363'}
            %i{class: "fas fa-calendar-check text-white text-2xl"}
          %h3.text-xl.font-bold.text-gray-900.mb-3 Economy Cars for Budget Travelers 
          %p.text-gray-600 For residents or tourists looking for cost-effective options, we provide economy car rentals in Dubai. Ideal for city commuting, airport transfers, and sightseeing, these cars combine comfort and affordability. 

  %section.py-16{ class: "text-white", style: "background-color: #3A6363;" }
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      %h2.text-2xl.md:text-3xl.font-bold.text-white.mb-8.text-center
        Wheels on Rent ‚Äì Get the Best Car Rental Deals in Dubai
      %hr.border-gray-700.mb-10
      .grid.grid-cols-1.md:grid-cols-2.gap-10
        - @company_features.each do |feature|
          .space-y-2
            %h3.text-lg.font-semibold.text-white.flex.items-center
              %i.fas.fa-circle.text-xs.text-teal-400.mr-2
              = feature[:title]
            %p.text-gray-300.text-sm.leading-relaxed
              = feature[:description]

  / Vendor CTA Banner under Stats
  %section.py-12.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      .rounded-3xl.border.border-gray-200.bg-white.overflow-hidden
        .grid.grid-cols-1.lg:grid-cols-2.items-center
          / Left image
          %div.relative.h-56.sm:h-64.lg:h-72
            %img{class: 'absolute inset-0 w-full h-full object-cover fade-right', src: image_path('join_us_image.png'), alt: 'Work with us'}
          / Right content
          .p-8.lg:p-12
            %h3.text-3xl.font-bold.text-gray-900.mb-3 Are you a car rental company?
            %p.text-lg.text-gray-600.mb-6 Join Us ‚Äì List Your Fleet, Get Confirmed Bookings, Double Your Profit!
            .flex.items-center.gap-3
              = link_to ( new_vendor_request_path || '#'), class: 'inline-flex items-center rounded-xl border px-6 py-3 font-semibold transition hover:bg-gray-50', style: 'background-color: #3A6363; color: white; border-color: white' do
                %span List Your Cars
                %i{class: 'fas fa-arrow-right ml-3'}
              -# = link_to companies_path, class: 'inline-flex items-center rounded-xl border px-6 py-3 font-semibold transition hover:bg-gray-50', style: 'color: #3a6363; border-color: #3a6363' do
              -#   %span Registered Companies
              -#   %i{class: 'fas fa-building ml-3'}
  
  / FAQ Section - 2 Column Layout
  %section.py-16.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      / Section Header
      .text-center.mb-12
        %h2.text-3xl.md:text-4xl.font-bold.mb-3{ style: "color: #3A6363" }
          Frequently Asked Questions
        %p.text-gray-600
          Find answers to common questions about our car rental services
      
      / FAQ Grid - 2 Columns
      .grid.grid-cols-1.md:grid-cols-3.gap-4.items-start
        - @faqs.each_with_index do |faq, index|
          .bg-white.rounded-lg.shadow-sm.border.border-gray-200.overflow-hidden.hover:shadow-md.transition-shadow.duration-200
            %details.group
              %summary.flex.items-center.justify-between.p-3.cursor-pointer.list-none
                .flex.items-center.flex-1
                  %span.flex.items-center.justify-center.w-8.h-8.rounded-full.text-white.text-sm.font-semibold.mr-4.flex-shrink-0{ style: "background-color: #3A6363" }
                    %i.fas.fa-car-side
                  %h3.text-base.font-semibold.text-gray-800.pr-4
                    = faq[:question]
                %svg.w-5.h-5.text-gray-400.group-open:rotate-180.transition-transform.duration-200.flex-shrink-0{ fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" }
                  %path{ "stroke-linecap": "round", "stroke-linejoin": "round", "stroke-width": "2", d: "M19 9l-7 7-7-7" }
              .pb-3.pt-0
                .pl-12
                  %p.text-gray-600.leading-relaxed.text-sm
                    = faq[:answer]

  / Contact Us Section - Minimal Version
  %section.py-16.bg-gray-50
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8
      / Header
      .text-center.mb-12
        %h2.text-3xl.md:text-4xl.font-bold.mb-4{ style: "color: #3A6363" }
          Contact Wheels on Rent Today
        %p.text-gray-700.text-base.md:text-lg.leading-relaxed.max-w-4xl.mx-auto
          Book your car now with Wheels on Rent and experience the best car rental service in Dubai and UAE. Whether you want zero deposit rentals, luxury cars, sports cars, or vehicles for family trips, our professional service ensures comfort, safety, and convenience.
      
      / Contact Details
      .grid.grid-cols-1.md:grid-cols-3.gap-6.mb-10
        / Phone
        .bg-white.p-8.rounded-xl.shadow-md.hover:shadow-lg.transition-shadow.duration-300.text-center
          .w-16.h-16.rounded-full.flex.items-center.justify-center.mx-auto.mb-4{ style: "background-color: #3A6363" }
            %svg.w-8.h-8.text-white{ fill: "currentColor", viewBox: "0 0 20 20" }
              %path{ d: "M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" }
          %h3.font-semibold.text-gray-800.mb-2.text-lg Phone
          %a.font-semibold.hover:underline.text-lg{ href: "tel:+971506336408", style: "color: #3A6363" }
            +971 50 633 6408
        
        / Email
        .bg-white.p-8.rounded-xl.shadow-md.hover:shadow-lg.transition-shadow.duration-300.text-center
          .w-16.h-16.rounded-full.flex.items-center.justify-center.mx-auto.mb-4{ style: "background-color: #3A6363" }
            %svg.w-8.h-8.text-white{ fill: "currentColor", viewBox: "0 0 20 20" }
              %path{ d: "M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" }
              %path{ d: "M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" }
          %h3.font-semibold.text-gray-800.mb-2.text-lg Email
          %a.font-semibold.hover:underline.break-all.text-lg{ href: "mailto:booking@wheelsonrent.ae", style: "color: #3A6363" }
            booking@wheelsonrent.ae
        
        / Website
        .bg-white.p-8.rounded-xl.shadow-md.hover:shadow-lg.transition-shadow.duration-300.text-center
          .w-16.h-16.rounded-full.flex.items-center.justify-center.mx-auto.mb-4{ style: "background-color: #3A6363" }
            %svg.w-8.h-8.text-white{ fill: "currentColor", viewBox: "0 0 20 20" }
              %path{ "fill-rule": "evenodd", d: "M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z", "clip-rule": "evenodd" }
          %h3.font-semibold.text-gray-800.mb-2.text-lg Website
          %a.font-semibold.hover:underline.text-lg{ href: "https://www.wheelsonrent.ae", target: "_blank", rel: "noopener", style: "color: #3A6363" }
            www.wheelsonrent.ae
      
      / Footer Message - Minimal Banner
      .py-10.px-8.text-center.mt-2.bg-gray-50{ style: "border-color: #3A6363" }
        %p.text-2xl.md:text-3xl.font-bold.leading-relaxed.mb-2{ style: "color: #3A6363" } Discover Dubai the smart way
        %p.text-xl.md:text-2xl.font-semibold.text-gray-600
          with Wheels on Rent

- content_for :footer do
  %footer.bg-gray-900.text-white
    .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8.py-12
      .grid.grid-cols-1.md:grid-cols-4.gap-8
        .space-y-4
          .flex.items-center
            %img{src: asset_path('new_logo.png'), alt: 'WheelsOnRent', class: 'w-10 h-10'}
            %span.text-xl.font-extrabold.ml-2= (@company && @company[:name]) || 'WheelsOnRent'
          %p.text-gray-300= (@company && @company[:blurb]) || 'Enjoy great offers on budget and luxury rentals, chauffeur services, and limousines with WheelsOnRent. Headquartered in Dubai, serving all of the UAE'
          .mt-6
            %h4.text-white.font-semibold.mb-4 Follow us on
            .flex.gap-3
              = link_to AppConstants::FACEBOOK, target: '_blank', rel: 'noopener noreferrer', class: 'w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all duration-300 hover:scale-110', title: 'Facebook' do
                %svg.w-5.h-5{fill: 'currentColor', viewBox: '0 0 24 24'}
                  %path{d: 'M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z'}
              
              = link_to AppConstants::INSTAGRAM, target: '_blank', rel: 'noopener noreferrer', class: 'w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-pink-600 transition-all duration-300 hover:scale-110', title: 'Instagram' do
                %svg.w-5.h-5{fill: 'currentColor', viewBox: '0 0 24 24'}
                  %path{d: 'M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z'}
              
              = link_to AppConstants::TWITTER, target: '_blank', rel: 'noopener noreferrer', class: 'w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-sky-500 transition-all duration-300 hover:scale-110', title: 'Twitter' do
                %svg.w-5.h-5{fill: 'currentColor', viewBox: '0 0 24 24'}
                  %path{d: 'M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'}
              
              = link_to AppConstants::YOUTUBE, target: '_blank', rel: 'noopener noreferrer', class: 'w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-red-600 transition-all duration-300 hover:scale-110', title: 'YouTube' do
                %svg.w-5.h-5{fill: 'currentColor', viewBox: '0 0 24 24'}
                  %path{d: 'M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z'}
              
              = link_to AppConstants::TIKTOK, target: '_blank', rel: 'noopener noreferrer', class: 'w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-black transition-all duration-300 hover:scale-110', title: 'TikTok' do
                %img{src: asset_path('tiktok-icon.png'), alt: 'TikTok', class: 'w-6 h-6 invert'}
        .space-y-4
          %h4.text-white.font-semibold Quick Links
          %ul.space-y-2
            - default_footer_links = [{label:'Browse Cars',href: cars_path}, {label:'List Your Car',href: new_vendor_request_path}, {label:'Blog',href: blogs_path}]
            - (@footer_links || default_footer_links).each do |l|
              %li= link_to l[:label], l[:href], class: 'text-gray-300 hover:text-white transition'
        .space-y-4
          %h4.text-white.font-semibold Support
          %ul.space-y-2
            - default_support_links = [{label:'Terms & Conditions',href: terms_of_use_path}]
            - (@support_links || default_support_links).each do |l|
              %li= link_to l[:label], l[:href], class: 'text-gray-300 hover:text-white transition'
        .space-y-4
          %h4.text-white.font-semibold Contact Info
          - default_contact = {phone: '+971506336408', email: 'booking@wheelsonrent.ae', address: 'Building A1, Dubai Digital Park, Dubai Silicon Oasis, Dubai'}
          - c = (@contact || default_contact)
          %div.text-gray-300
            %p.py-2
              %svg.w-5.h-5.inline.text-green-500.mr-2{fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24', 'stroke-width': '2'}
                %path{d: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z'}
              = " #{c[:phone]}"
            %p.py-2= "üìß #{c[:email]}"
            %p.py-2= "üìç #{c[:address]}"

            .space-y-4
              %h4.text-white.font-semibold Flexible ways to pay your partner directly
              .flex.gap-4.flex-wrap
                %img{src: asset_path('visa.png'), alt: 'Visa', class: 'h-6'}
                %img{src: asset_path('mastercard.png'), alt: 'Mastercard', class: 'h-6'}
                %img{src: asset_path('unionpay.png'), alt: 'UnionPay', class: 'h-6'}
                %img{src: asset_path('apple-pay.png'), alt: 'Apple Pay', class: 'h-6'}
                %img{src: asset_path('google-pay.png'), alt: 'Google Pay', class: 'h-6'}
      .border-t.border-gray-800.mt-8.pt-8.text-center.text-gray-400
        %p &copy; #{Time.current.year} WheelsOnRent. All rights reserved.

:javascript
  (function() {
    // --- Generic slider function for hero/promo images ---
    function initSlider(containerId, interval) {
      var container = document.getElementById(containerId);
      if (!container) return;

      var slides = Array.prototype.slice.call(container.querySelectorAll('img'));
      if (slides.length < 2) return;

      var active = 0;

      function show(index) {
        slides.forEach(function(img, i) {
          if (i === index) {
            img.classList.remove('opacity-0');
            img.classList.add('opacity-100');
          } else {
            img.classList.remove('opacity-100');
            img.classList.add('opacity-0');
          }
        });
      }

      // Clear any previous interval to avoid duplicates on Turbo renders
      var intervalKey = '_' + containerId + 'Interval';
      if (window[intervalKey]) {
        clearInterval(window[intervalKey]);
        window[intervalKey] = null;
      }

      show(active);
      window[intervalKey] = setInterval(function() {
        active = (active + 1) % slides.length;
        show(active);
      }, interval);
    }

    function initAllSliders() {
      initSlider('heroImageSlider', 4000);
      initSlider('promoSlider', 5000);
      initSlider('carHeroSlider', 3000);
    }

    // --- Car Carousel Logic - Always show exactly 4 cards ---
    function initCarCarousels() {
    const tracks = document.querySelectorAll('.carousel-track');

    tracks.forEach(track => {
      const category = track.dataset.category;
      const totalCars = parseInt(track.dataset.total);
      let currentPosition = parseInt(track.dataset.current) || 0;

      const prevBtn = document.querySelector(`.carousel-prev[data-category="${category}"]`);
      const nextBtn = document.querySelector(`.carousel-next[data-category="${category}"]`);
      if (!prevBtn || !nextBtn) return;

      function getCardsToShow() {
        const width = window.innerWidth;
        if (width < 640) {
          return 1; // Mobile: 2 cards
        } else {
          return 4; // Desktop: 4 cards
        }
      }

      let CARDS_TO_SHOW = getCardsToShow();
      
      // Get the carousel container width
      const container = track.closest('.carousel-viewport');
      if (!container) return;
      
      const containerWidth = container.offsetWidth;
      const cardWidth = containerWidth / CARDS_TO_SHOW;
      
      // Set each card's width explicitly in pixels
      const cards = track.querySelectorAll('.carousel-item');
      cards.forEach(card => {
        card.style.width = `${cardWidth}px`;
        card.style.minWidth = `${cardWidth}px`;
        card.style.maxWidth = `${cardWidth}px`;
      });

      function getMaxPosition() {
        return Math.max(0, totalCars - CARDS_TO_SHOW);
      }

      function updateButtons() {
        const maxPosition = getMaxPosition();
        prevBtn.classList.toggle('hidden', currentPosition <= 0);
        nextBtn.classList.toggle('hidden', currentPosition >= maxPosition || totalCars <= CARDS_TO_SHOW);
      }

      function slide(direction) {
        const maxPosition = getMaxPosition();

        if (direction === 'next' && currentPosition < maxPosition) {
          currentPosition++;
        } else if (direction === 'prev' && currentPosition > 0) {
          currentPosition--;
        }

        // Move by the card width in pixels
        const moveDistance = currentPosition * cardWidth;
        track.style.transform = `translateX(-${moveDistance}px)`;

        track.dataset.current = currentPosition;
        updateButtons();
      }

      // Attach event listeners
      prevBtn.addEventListener('click', () => slide('prev'));
      nextBtn.addEventListener('click', () => slide('next'));

      // Initialize buttons state
      updateButtons();
    });
  }

    // --- Initialization Hooks (Turbo + Regular) ---
    function initAll() {
      initCarCarousels();
      initAllSliders();
    }

    document.addEventListener('DOMContentLoaded', initAll);
    document.addEventListener('turbo:load', initAll);
    document.addEventListener('turbo:render', initAll);
    if (document.readyState !== 'loading') setTimeout(initAll, 0);
  })();
