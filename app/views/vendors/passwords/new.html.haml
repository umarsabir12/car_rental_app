.container.mx-auto.px-4.py-8
  .max-w-md.mx-auto
    / Header
    .text-center.mb-8
      %h1.text-3xl.font-bold.text-gray-900.flex.items-center.justify-center
        %i.fas.fa-lock.mr-4.text-blue-600.text-2xl
        Forgot Password
      %p.text-gray-600.mt-2 Enter your email address to receive password reset instructions.

    / Flash Messages
    - if flash[:notice]
      .mb-6.p-4.bg-green-50.border.border-green-200.rounded-lg
        .flex.items-center
          %i.fas.fa-check-circle.text-green-600.mr-2
          %span.text-green-800= flash[:notice]
    - if flash[:alert]
      .mb-6.p-4.bg-red-50.border.border-red-200.rounded-lg
        .flex.items-center
          %i.fas.fa-exclamation-circle.text-red-600.mr-2
          %span.text-red-800= flash[:alert]

    / Password Reset Form
    .bg-white.rounded-lg.shadow-md.p-8
      = form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post, id: 'password-reset-form' }) do |f|
        .space-y-6
          .field
            = f.label :email, class: 'block text-sm font-medium text-gray-700 mb-2'
            = f.email_field :email, 
                autocomplete: 'email',
                class: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors',
                placeholder: 'Enter your email address',
                id: 'reset-email'
            - if resource.errors[:email].any?
              %p.text-red-600.text-sm.mt-1= resource.errors[:email].join(', ')

          .field
            = f.submit 'Send Reset Instructions', 
                class: 'w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2',
                id: 'reset-submit'

      / Additional Links
      .mt-6.text-center.space-y-4
        = link_to 'Back to Sign In', new_vendor_session_path, 
            class: 'text-blue-600 hover:text-blue-800 font-medium transition-colors'
        %p.text-gray-500.text-sm
          Don't have an account? 
          = link_to 'Sign up here', new_vendor_registration_path, 
              class: 'text-blue-600 hover:text-blue-800 font-medium'

    / Help Section
    .mt-8.bg-blue-50.rounded-lg.p-6
      %h3.text-lg.font-semibold.text-blue-900.mb-3.flex.items-center
        %i.fas.fa-info-circle.mr-2
        Need Help?
      %p.text-blue-800.text-sm.mb-3
        If you're having trouble accessing your vendor account, we can help you reset your password.
      %ul.text-blue-800.text-sm.space-y-1
        %li.flex.items-start
          %i.fas.fa-check.mr-2.mt-0.5.text-blue-600
          Enter the email address associated with your vendor account
        %li.flex.items-start
          %i.fas.fa-check.mr-2.mt-0.5.text-blue-600
          Check your email for password reset instructions
        %li.flex.items-start
          %i.fas.fa-check.mr-2.mt-0.5.text-blue-600
          Follow the link to create a new password

:javascript
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('password-reset-form');
    const emailField = document.getElementById('reset-email');
    const submitButton = document.getElementById('reset-submit');
    
    // Email validation
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
    
    // Real-time email validation
    emailField.addEventListener('blur', function() {
      const email = this.value.trim();
      clearFieldError(this);
      
      if (email && !validateEmail(email)) {
        showFieldError(this, 'Please enter a valid email address');
      }
    });
    
    emailField.addEventListener('input', function() {
      clearFieldError(this);
    });
    
    // Form submission enhancement
    form.addEventListener('submit', function(e) {
      const email = emailField.value.trim();
      
      if (!email) {
        e.preventDefault();
        showFieldError(emailField, 'Email address is required');
        return;
      }
      
      if (!validateEmail(email)) {
        e.preventDefault();
        showFieldError(emailField, 'Please enter a valid email address');
        return;
      }
      
      // Show loading state
      submitButton.disabled = true;
      submitButton.value = 'Sending...';
      submitButton.classList.add('opacity-75');
    });
    
    function showFieldError(field, message) {
      field.classList.add('border-red-500', 'focus:border-red-500', 'focus:ring-red-500');
      
      const errorDiv = document.createElement('p');
      errorDiv.className = 'text-red-600 text-sm mt-1';
      errorDiv.textContent = message;
      errorDiv.id = field.name + '_error';
      
      field.parentNode.appendChild(errorDiv);
    }
    
    function clearFieldError(field) {
      field.classList.remove('border-red-500', 'focus:border-red-500', 'focus:ring-red-500');
      
      const errorDiv = field.parentNode.querySelector('#' + field.name + '_error');
      if (errorDiv) {
        errorDiv.remove();
      }
    }
  }); 