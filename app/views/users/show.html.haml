.w-full.min-h-screen{style: 'background: linear-gradient(to bottom right, #f0f9f9, #e6f0f0)'}
  .px-4.md:px-12.lg:px-32
    = render 'shared/user_header'

    .mx-auto
      / Back Button and Edit Button Row
      .mb-6.flex.items-center.justify-between
        = link_to user_home_path, class: 'inline-flex items-center font-semibold transition-all hover:opacity-80', style: 'color: #3A6363' do
          %i.fas.fa-arrow-left.mr-2
          Back to Dashboard
        
        = link_to edit_user_path(@user), class: 'inline-flex items-center text-white px-6 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl hover:opacity-90', style: 'background-color: #3A6363' do
          %i.fas.fa-edit.mr-2
          Edit Profile
    
  .bg-white.rounded-2xl.shadow-xl.p-8
    / Personal Information Card
    .bg-white.rounded-xl.shadow-md.overflow-hidden.mb-6.border.border-gray-100
      .px-6.py-4.flex.items-center.justify-between{style: 'background-color: #f0f9f9; border-bottom: 2px solid #3A6363'}
        %h3.text-lg.font-bold.text-gray-900.flex.items-center
          %i.fas.fa-user-circle.mr-3.text-xl{style: 'color: #3A6363'}
          Personal Information
      .px-6.py-6
        .grid.grid-cols-1.md:grid-cols-2.gap-6
          / First Name
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block First Name
            %p.text-lg.font-medium.text-gray-900= @user.first_name || 'Not provided'
          
          / Last Name
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block Last Name
            %p.text-lg.font-medium.text-gray-900= @user.last_name || 'Not provided'
          
          / Email
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-envelope.mr-2{style: 'color: #3A6363'}
              Email Address
            %p.text-lg.font-medium.text-gray-900.break-all= @user.email
          
          / Nationality
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-globe.mr-2{style: 'color: #3A6363'}
              Status
            - if @user.nationality.present?
              %span.inline-flex.items-center.px-3.py-1.rounded-full.text-sm.font-semibold{style: @user.nationality == 'resident' ? 'background-color: #e6f0f0; color: #3A6363' : 'background-color: #fef3c7; color: #92400e'}
                %i{class: @user.nationality == 'resident' ? 'fas fa-home mr-2' : 'fas fa-plane mr-2'}
                = @user.nationality.capitalize
            - else
              %p.text-gray-500 Not specified

    / Contact Information Card
    .bg-white.rounded-xl.shadow-md.overflow-hidden.mb-6.border.border-gray-100
      .px-6.py-4.flex.items-center.justify-between{style: 'background-color: #f0f9f9; border-bottom: 2px solid #3A6363'}
        %h3.text-lg.font-bold.text-gray-900.flex.items-center
          %i.fas.fa-phone-alt.mr-3.text-xl{style: 'color: #3A6363'}
          Contact Information
      .px-6.py-6
        .grid.grid-cols-1.md:grid-cols-2.gap-6
          / Phone Number
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-phone.mr-2{style: 'color: #3A6363'}
              Phone Number
            - if @user.phone.present?
              %p.text-lg.font-medium.text-gray-900= @user.phone
            - else
              %p.text-gray-500.italic Not provided
          
          / WhatsApp Number
          .bg-green-50.rounded-lg.p-4.border-2.border-green-200.transition-all.hover:shadow-lg
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-2.block.flex.items-center
              %i.fab.fa-whatsapp.text-green-600.mr-2.text-lg
              WhatsApp Number
            - if @user.whatsapp_number.present?
              .flex.items-center.justify-between.gap-3
                %p.text-lg.font-medium.text-gray-900= @user.whatsapp_display || @user.whatsapp_number
                = link_to @user.whatsapp_link, target: '_blank', class: 'inline-flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-semibold px-4 py-2 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg text-sm whitespace-nowrap' do
                  %i.fab.fa-whatsapp.text-lg
                  %span Chat
            - else
              %p.text-gray-500.italic Not provided

    / Account Statistics Card
    .bg-white.rounded-xl.shadow-md.overflow-hidden.mb-6.border.border-gray-100
      .px-6.py-4.flex.items-center.justify-between{style: 'background-color: #f0f9f9; border-bottom: 2px solid #3A6363'}
        %h3.text-lg.font-bold.text-gray-900.flex.items-center
          %i.fas.fa-chart-line.mr-3.text-xl{style: 'color: #3A6363'}
          Booking Statistics
      .px-6.py-6
        .grid.grid-cols-1.md:grid-cols-3.gap-4
          / Total Bookings
          .text-center.p-6.rounded-xl.transition-all.hover:shadow-lg{style: 'background: linear-gradient(135deg, #3A6363 0%, #2d4f4f 100%)'}
            %i.fas.fa-calendar-check.text-4xl.text-white.mb-3
            %h4.text-3xl.font-bold.text-white.mb-1= @user.bookings.count
            %p.text-white.text-sm.opacity-90 Total Bookings
          
          / Active Bookings
          .text-center.p-6.rounded-xl.transition-all.hover:shadow-lg{style: 'background: linear-gradient(135deg, #10b981 0%, #059669 100%)'}
            %i.fas.fa-car.text-4xl.text-white.mb-3
            %h4.text-3xl.font-bold.text-white.mb-1= @user.bookings.where(status: 'active').count
            %p.text-white.text-sm.opacity-90 Active Bookings
          
          / Completed Bookings
          .text-center.p-6.rounded-xl.transition-all.hover:shadow-lg{style: 'background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)'}
            %i.fas.fa-check-circle.text-4xl.text-white.mb-3
            %h4.text-3xl.font-bold.text-white.mb-1= @user.bookings.where(status: 'completed').count
            %p.text-white.text-sm.opacity-90 Completed Bookings

    / Account Information Card
    .bg-white.rounded-xl.shadow-md.overflow-hidden.border.border-gray-100
      .px-6.py-4.flex.items-center.justify-between{style: 'background-color: #f0f9f9; border-bottom: 2px solid #3A6363'}
        %h3.text-lg.font-bold.text-gray-900.flex.items-center
          %i.fas.fa-info-circle.mr-3.text-xl{style: 'color: #3A6363'}
          Account Information
      .px-6.py-6
        .grid.grid-cols-1.md:grid-cols-3.gap-6
          / Member Since
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-calendar-plus.mr-2{style: 'color: #3A6363'}
              Member Since
            %p.text-lg.font-medium.text-gray-900= @user.created_at.strftime('%B %d, %Y')
            %p.text-xs.text-gray-500.mt-1= "#{time_ago_in_words(@user.created_at)} ago"
          
          / Last Updated
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-clock.mr-2{style: 'color: #3A6363'}
              Last Updated
            %p.text-lg.font-medium.text-gray-900= @user.updated_at.strftime('%B %d, %Y')
            %p.text-xs.text-gray-500.mt-1= "#{time_ago_in_words(@user.updated_at)} ago"
          
          / Terms Accepted
          .bg-gray-50.rounded-lg.p-4.border.border-gray-200.transition-all.hover:shadow-md
            %label.text-xs.font-semibold.text-gray-500.uppercase.tracking-wide.mb-1.block.flex.items-center
              %i.fas.fa-file-contract.mr-2{style: 'color: #3A6363'}
              Terms & Conditions
            - if @user.terms_accepted?
              %span.inline-flex.items-center.px-3.py-1.rounded-full.text-sm.font-semibold.bg-green-50.text-green-700.border.border-green-200
                %i.fas.fa-check-circle.mr-2
                Accepted
            - else
              %span.inline-flex.items-center.px-3.py-1.rounded-full.text-sm.font-semibold.bg-red-50.text-red-700.border.border-red-200
                %i.fas.fa-times-circle.mr-2
                Not Accepted

    / Quick Actions
    .mt-6.grid.grid-cols-1.md:grid-cols-2.gap-4
      = link_to users_bookings_path, class: 'flex items-center justify-between p-5 rounded-xl border-2 transition-all hover:shadow-lg', style: 'border-color: #3A6363; hover:background-color: #f0f9f9' do
        .flex.items-center
          .w-12.h-12.rounded-full.flex.items-center.justify-center.mr-4{style: 'background-color: #e6f0f0'}
            %i.fas.fa-calendar-alt.text-xl{style: 'color: #3A6363'}
          .div
            %p.font-bold.text-gray-900 View Bookings
            %p.text-sm.text-gray-500 Check your rental history
        %i.fas.fa-arrow-right{style: 'color: #3A6363'}
      
      = link_to edit_user_path(@user), class: 'flex items-center justify-between p-5 rounded-xl border-2 transition-all hover:shadow-lg', style: 'border-color: #3A6363; hover:background-color: #f0f9f9' do
        .flex.items-center
          .w-12.h-12.rounded-full.flex.items-center.justify-center.mr-4{style: 'background-color: #e6f0f0'}
            %i.fas.fa-user-edit.text-xl{style: 'color: #3A6363'}
          .div
            %p.font-bold.text-gray-900 Edit Profile
            %p.text-sm.text-gray-500 Update your information
        %i.fas.fa-arrow-right{style: 'color: #3A6363'}